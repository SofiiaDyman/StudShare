<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudShare - Пошук житла для студентів</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Заголовок з фоновим зображенням на весь екран -->
    <div class="header-fullscreen">
        <!-- Навігаційна панель напівпрозора -->
        <nav class="navbar-transparent fixed-top">
            <div class="container-fluid px-4 d-flex justify-content-between align-items-center">
                <a class="navbar-brand logo" href="#">
                    <span class="logo-text">StudShare</span>
                </a>
                    <div class="nav-menu">
                    <button class="nav-item active" onclick="scrollToTop()">Головна</button>
                    <button class="nav-item" onclick="openAddListingModal()">Додати оголошення</button>
                    <div id="authControls" class="auth-controls">
                        <button class="nav-item" data-bs-toggle="modal" data-bs-target="#authModal" onclick="openAuthModal('login')">Увійти</button>
                        <button class="btn-contact" data-bs-toggle="modal" data-bs-target="#authModal" onclick="openAuthModal('register')">Зареєструватись</button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="header-overlay"></div>
        <div class="container header-content">
            <h1 class="header-title">Знайди своє ідеальне житло</h1>
            <p class="header-subtitle">для студентів ЛНУ імені Івана Франка</p>
        </div>

        <!-- Фільтри на фоні фото -->
        <div class="filters-section-overlay">
            <h5 class="filters-title">Фільтри пошуку</h5>
            <div class="filters-row">
                <div class="filter-item">
                    <label class="form-label">Ціна до</label>
                    <div class="price-input-wrapper">
                        <input type="number" class="form-control price-input" id="filterPriceInput" 
                               min="0" max="15000" step="100" value="0" placeholder="Ціна">
                        <span class="price-unit">грн/міс</span>
                    </div>
                </div>
                <div class="filter-item">
                    <label class="form-label">Район</label>
                    <select class="form-select custom-select" id="filterDistrict">
                        <option value="">Всі райони</option>
                        <option value="Франківський">Франківський</option>
                        <option value="Галицький">Галицький</option>
                        <option value="Залізничний">Залізничний</option>
                        <option value="Личаківський">Личаківський</option>
                        <option value="Шевченківський">Шевченківський</option>
                        <option value="Сихівський">Сихівський</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label class="form-label">Факультет</label>
                    <select class="form-select custom-select" id="filterFaculty">
                        <option value="">Всі факультети</option>
                        <option value="Біологічний">Біологічний</option>
                        <option value="Географічний">Географічний</option>
                        <option value="Геологічний">Геологічний</option>
                        <option value="Економічний">Економічний</option>
                        <option value="Електроніки та комп'ютерних технологій">Електроніки та комп'ютерних технологій</option>
                        <option value="Іноземних мов">Іноземних мов</option>
                        <option value="Історичний">Історичний</option>
                        <option value="Журналістики">Журналістики</option>
                        <option value="Культури і мистецтв">Культури і мистецтв</option>
                        <option value="Механіко-математичний">Механіко-математичний</option>
                        <option value="Міжнародних відносин">Міжнародних відносин</option>
                        <option value="Педагогічний">Педагогічний</option>
                        <option value="Прикладної математики та інформатики">Прикладної математики та інформатики</option>
                        <option value="Управління фінансами та бізнесом">Управління фінансами та бізнесом</option>
                        <option value="Фізичний">Фізичний</option>
                        <option value="Філологічний">Філологічний</option>
                        <option value="Філософський">Філософський</option>
                        <option value="Хімічний">Хімічний</option>
                        <option value="Юридичний">Юридичний</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label class="form-label">Стать</label>
                    <select class="form-select custom-select" id="filterGender">
                        <option value="">Не важливо</option>
                        <option value="хлопець">Хлопець</option>
                        <option value="дівчина">Дівчина</option>
                    </select>
                </div>
                <div class="filter-item filter-button">
                    <button class="btn btn-search-custom" onclick="applyFilters()">Застосувати фільтри</button>
                    <button class="btn btn-secondary-custom ms-2" onclick="resetFilters()">Скинути</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container main-content">
        <div class="favorites-toggle text-end mb-3">
            <button id="favoritesToggle" class="btn btn-outline-favorite d-none" onclick="showFavoritesPanel()">
                Мої обрані
            </button>
        </div>
        <section id="favoritesSection" class="favorites-panel d-none">
            <div class="favorites-panel__header">
                <div>
                    <h5 class="favorites-title mb-1">Збережені оголошення</h5>
                    <p class="text-muted mb-0">Усі оголошення, які ти додав у обрані</p>
                </div>
                <div class="favorites-panel__actions">
                    <button class="btn btn-secondary-custom" onclick="hideFavoritesPanel()">Закрити</button>
                </div>
            </div>
            <div id="favoritesContainer"></div>
        </section>

        <!-- Список оголошень -->
        <div id="listingsContainer"></div>
    </div>

    <!-- Модальне вікно для додавання оголошення -->
    <div class="modal fade" id="addListingModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Додати нове оголошення</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addListingForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">Стать *</label>
                                <select class="form-select custom-select" name="gender" required>
                                    <option value="">Оберіть...</option>
                                    <option value="хлопець">Хлопець</option>
                                    <option value="дівчина">Дівчина</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Факультет *</label>
                                <select class="form-select custom-select" name="faculty" required>
                                    <option value="">Оберіть...</option>
                                    <option value="Біологічний">Біологічний</option>
                                    <option value="Географічний">Географічний</option>
                                    <option value="Геологічний">Геологічний</option>
                                    <option value="Економічний">Економічний</option>
                                    <option value="Електроніки та комп'ютерних технологій">Електроніки та комп'ютерних технологій</option>
                                    <option value="Іноземних мов">Іноземних мов</option>
                                    <option value="Історичний">Історичний</option>
                                    <option value="Журналістики">Журналістики</option>
                                    <option value="Культури і мистецтв">Культури і мистецтв</option>
                                    <option value="Механіко-математичний">Механіко-математичний</option>
                                    <option value="Міжнародних відносин">Міжнародних відносин</option>
                                    <option value="Педагогічний">Педагогічний</option>
                                    <option value="Прикладної математики та інформатики">Прикладної математики та інформатики</option>
                                    <option value="Управління фінансами та бізнесом">Управління фінансами та бізнесом</option>
                                    <option value="Фізичний">Фізичний</option>
                                    <option value="Філологічний">Філологічний</option>
                                    <option value="Філософський">Філософський</option>
                                    <option value="Хімічний">Хімічний</option>
                                    <option value="Юридичний">Юридичний</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Курс *</label>
                                <select class="form-select custom-select" name="course" required>
                                    <option value="">Оберіть...</option>
                                    <option value="1">1 курс</option>
                                    <option value="2">2 курс</option>
                                    <option value="3">3 курс</option>
                                    <option value="4">4 курс</option>
                                    <option value="5">5 курс</option>
                                    <option value="6">6 курс</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Спеціальність *</label>
                                <input type="text" class="form-control custom-input" name="specialty" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Район *</label>
                                <select class="form-select custom-select" name="district" required>
                                    <option value="">Оберіть...</option>
                                    <option value="Франківський">Франківський</option>
                                    <option value="Галицький">Галицький</option>
                                    <option value="Залізничний">Залізничний</option>
                                    <option value="Личаківський">Личаківський</option>
                                    <option value="Шевченківський">Шевченківський</option>
                                    <option value="Сихівський">Сихівський</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Адреса *</label>
                                <input type="text" class="form-control custom-input" name="address" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Кількість кімнат *</label>
                                <input type="number" class="form-control custom-input" name="rooms_count" min="1" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Кількість мешканців *</label>
                                <input type="number" class="form-control custom-input" name="people_count" min="1" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Ціна (грн/міс) *</label>
                                <input type="number" class="form-control custom-input" name="price" min="0" required>
                            </div>
                            <div class="col-12">
                                <div class="form-check custom-checkbox">
                                    <input class="form-check-input" type="checkbox" name="utilities_included" id="utilities">
                                    <label class="form-check-label" for="utilities">
                                        Комунальні послуги включені в ціну
                                    </label>
                                </div>
                            </div>
                            <div class="col-12">
                                <label class="form-label">Додаткова інформація</label>
                                <textarea class="form-control custom-input" name="additional_info" rows="3" placeholder="Вимоги до співмешканців, особливості квартири тощо"></textarea>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Телефон *</label>
                                <input type="tel" class="form-control custom-input" name="contact_phone" placeholder="+380 67 123 4567" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Telegram</label>
                                <input type="text" class="form-control custom-input" name="contact_telegram" placeholder="@username">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Instagram</label>
                                <input type="text" class="form-control custom-input" name="contact_instagram" placeholder="@username">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary-custom" data-bs-dismiss="modal">Скасувати</button>
                    <button type="button" class="btn btn-primary-custom" onclick="submitListingUpdated()">Опублікувати оголошення</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header flex-column align-items-start">
                    <h5 class="modal-title mb-3">Особистий кабінет</h5>
                    <div class="auth-tabs">
                        <button class="auth-tab active" data-mode="login" onclick="switchAuthMode('login')">Вхід</button>
                        <button class="auth-tab" data-mode="register" onclick="switchAuthMode('register')">Реєстрація</button>
                    </div>
                </div>
                <div class="modal-body">
                    <form id="loginForm" class="auth-form">
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control custom-input" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Пароль</label>
                            <input type="password" class="form-control custom-input" name="password" required minlength="6">
                        </div>
                        <button type="submit" class="btn btn-primary-custom w-100">Увійти</button>
                    </form>

                    <form id="registerForm" class="auth-form d-none">
                        <div class="mb-3">
                            <label class="form-label">Ім'я та прізвище</label>
                            <input type="text" class="form-control custom-input" name="full_name" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control custom-input" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Пароль</label>
                            <input type="password" class="form-control custom-input" name="password" required minlength="6">
                        </div>
                        <button type="submit" class="btn btn-primary-custom w-100">Створити акаунт</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <p class="small text-muted mb-0">Пароль повинен містити мінімум 6 символів.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>